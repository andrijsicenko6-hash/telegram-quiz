<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –≤ Telegram</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            padding: 20px;
            color: white;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        
        .header {
            padding: 40px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #ffd700;
        }
        
        .game-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 15px;
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            backdrop-filter: blur(5px);
        }
        
        .game-card:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #ffd700;
            transform: translateY(-5px);
        }
        
        .btn {
            background: linear-gradient(45deg, #ff416c, #ff4b2b);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            margin: 10px;
            width: 100%;
            max-width: 300px;
        }
        
        .btn:hover {
            transform: scale(1.05);
        }
        
        .question-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            backdrop-filter: blur(5px);
        }
        
        .answer-btn {
            background: rgba(255, 255, 255, 0.15);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .answer-btn:hover {
            background: rgba(255, 255, 255, 0.25);
        }
        
        .timer {
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .timer-bar {
            height: 100%;
            background: #ffd700;
            width: 100%;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é -->
        <div id="mainMenu">
            <div class="header">
                <h1>üéÆ –í–∏–∫—Ç–æ—Ä–∏–Ω–∞</h1>
                <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è!</p>
            </div>
            
            <div class="game-card" onclick="startGame()">
                <h2>‚ö° –ë—ã—Å—Ç—Ä–∞—è –∏–≥—Ä–∞</h2>
                <p>5 –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ –≤—Ä–µ–º—è</p>
            </div>
            
            <div class="game-card" onclick="showCategories()">
                <h2>üéØ –í—ã–±–æ—Ä —Ç–µ–º—ã</h2>
                <p>–í–æ–ø—Ä–æ—Å—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</p>
            </div>
            
            <button class="btn" onclick="Telegram.WebApp.close()">
                ‚ùå –ó–∞–∫—Ä—ã—Ç—å
            </button>
        </div>
        
        <!-- –ò–≥—Ä–∞ -->
        <div id="gameScreen" class="hidden">
            <div class="header">
                <h2 id="questionCounter">–í–æ–ø—Ä–æ—Å 1/5</h2>
                <p id="scoreDisplay">–û—á–∫–∏: 0</p>
            </div>
            
            <div class="timer">
                <div class="timer-bar" id="timerBar"></div>
            </div>
            
            <div class="question-box">
                <h3 id="questionText">–ö–∞–∫–æ–π –≥–æ—Ä–æ–¥ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–æ–ª–∏—Ü–µ–π –†–æ—Å—Å–∏–∏?</h3>
                
                <div id="answersContainer">
                    <div class="answer-btn" onclick="checkAnswer('–ú–æ—Å–∫–≤–∞')">–ú–æ—Å–∫–≤–∞</div>
                    <div class="answer-btn" onclick="checkAnswer('–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥')">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</div>
                    <div class="answer-btn" onclick="checkAnswer('–ö–∞–∑–∞–Ω—å')">–ö–∞–∑–∞–Ω—å</div>
                    <div class="answer-btn" onclick="checkAnswer('–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫')">–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</div>
                </div>
            </div>
            
            <button class="btn" onclick="showMainMenu()">
                ‚Üê –ù–∞–∑–∞–¥
            </button>
        </div>
        
        <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
        <div id="categoryScreen" class="hidden">
            <div class="header">
                <h2>üìö –í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É</h2>
            </div>
            
            <div class="game-card" onclick="startCategory('general')">
                <h3>üéØ –û–±—â–∏–µ –∑–Ω–∞–Ω–∏—è</h3>
            </div>
            
            <div class="game-card" onclick="startCategory('science')">
                <h3>üî¨ –ù–∞—É–∫–∞</h3>
            </div>
            
            <div class="game-card" onclick="startCategory('history')">
                <h3>üèõÔ∏è –ò—Å—Ç–æ—Ä–∏—è</h3>
            </div>
            
            <button class="btn" onclick="showMainMenu()">
                ‚Üê –ù–∞–∑–∞–¥
            </button>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        Telegram.WebApp.ready();
        Telegram.WebApp.expand();
        
        let score = 0;
        let currentQuestion = 1;
        let timer = null;
        let timeLeft = 30;
        
        // –í–æ–ø—Ä–æ—Å—ã –¥–ª—è –¥–µ–º–æ
        const questions = [
            {
                question: "–°—Ç–æ–ª–∏—Ü–∞ –†–æ—Å—Å–∏–∏?",
                correct: "–ú–æ—Å–∫–≤–∞",
                answers: ["–ú–æ—Å–∫–≤–∞", "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "–ö–∞–∑–∞–Ω—å", "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫"]
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ –ø–ª–∞–Ω–µ—Ç –≤ –°–æ–ª–Ω–µ—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ?",
                correct: "8",
                answers: ["7", "8", "9", "10"]
            },
            {
                question: "–ö—Ç–æ –Ω–∞–ø–∏—Å–∞–ª '–í–æ–π–Ω—É –∏ –º–∏—Ä'?",
                correct: "–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π",
                answers: ["–î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π", "–ß–µ—Ö–æ–≤", "–¢–æ–ª—Å—Ç–æ–π", "–¢—É—Ä–≥–µ–Ω–µ–≤"]
            }
        ];
        
        // –ù–∞–≤–∏–≥–∞—Ü–∏—è
        function showMainMenu() {
            document.getElementById('mainMenu').classList.remove('hidden');
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('categoryScreen').classList.add('hidden');
        }
        
        function showGameScreen() {
            document.getElementById('mainMenu').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            document.getElementById('categoryScreen').classList.add('hidden');
        }
        
        function showCategories() {
            document.getElementById('mainMenu').classList.add('hidden');
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('categoryScreen').classList.remove('hidden');
        }
        
        // –ù–∞—á–∞–ª–æ –∏–≥—Ä—ã
        function startGame() {
            score = 0;
            currentQuestion = 1;
            showGameScreen();
            loadQuestion(0);
        }
        
        function startCategory(category) {
            score = 0;
            currentQuestion = 1;
            showGameScreen();
            loadQuestion(0);
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ–ø—Ä–æ—Å–∞
        function loadQuestion(index) {
            if (index >= questions.length) {
                endGame();
                return;
            }
            
            const q = questions[index];
            document.getElementById('questionCounter').textContent = `–í–æ–ø—Ä–æ—Å ${index + 1}/${questions.length}`;
            document.getElementById('scoreDisplay').textContent = `–û—á–∫–∏: ${score}`;
            document.getElementById('questionText').textContent = q.question;
            
            // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –æ—Ç–≤–µ—Ç–∞–º–∏
            const container = document.getElementById('answersContainer');
            container.innerHTML = '';
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤
            q.answers.forEach(answer => {
                const btn = document.createElement('div');
                btn.className = 'answer-btn';
                btn.textContent = answer;
                btn.onclick = () => checkAnswer(answer, q.correct);
                container.appendChild(btn);
            });
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
            startTimer();
        }
        
        // –¢–∞–π–º–µ—Ä
        function startTimer() {
            clearInterval(timer);
            timeLeft = 30;
            const timerBar = document.getElementById('timerBar');
            timerBar.style.width = '100%';
            
            timer = setInterval(() => {
                timeLeft--;
                const percent = (timeLeft / 30) * 100;
                timerBar.style.width = percent + '%';
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    // –í—Ä–µ–º—è –≤—ã—à–ª–æ
                    currentQuestion++;
                    if (currentQuestion <= questions.length) {
                        loadQuestion(currentQuestion - 1);
                    } else {
                        endGame();
                    }
                }
            }, 1000);
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞
        function checkAnswer(answer, correct) {
            clearInterval(timer);
            
            const buttons = document.querySelectorAll('.answer-btn');
            buttons.forEach(btn => {
                btn.style.pointerEvents = 'none';
                if (btn.textContent === correct) {
                    btn.style.background = '#4CAF50';
                } else if (btn.textContent === answer && answer !== correct) {
                    btn.style.background = '#f44336';
                }
            });
            
            // –ù–∞—á–∏—Å–ª—è–µ–º –æ—á–∫–∏
            if (answer === correct) {
                const bonus = Math.floor(timeLeft);
                score += 100 + bonus;
                alert(`‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ! +${100 + bonus} –æ—á–∫–æ–≤`);
            } else {
                alert(`‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${correct}`);
            }
            
            // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –≤–æ–ø—Ä–æ—Å—É
            setTimeout(() => {
                currentQuestion++;
                if (currentQuestion <= questions.length) {
                    loadQuestion(currentQuestion - 1);
                } else {
                    endGame();
                }
            }, 1500);
        }
        
        // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏–≥—Ä—ã
        function endGame() {
            Telegram.WebApp.showAlert(`üèÜ –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!\n\n–í—ã –Ω–∞–±—Ä–∞–ª–∏: ${score} –æ—á–∫–æ–≤\n\n–°—ã–≥—Ä–∞–π—Ç–µ –µ—â–µ —Ä–∞–∑!`);
            showMainMenu();
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        showMainMenu();
    </script>
</body>
</html>
